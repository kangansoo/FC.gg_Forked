{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\\\uD504\\uB85C\\uC81D\\uD2B8\\\\FC.gg_Forked\\\\FC.gg\\\\fc_app\\\\src\\\\components\\\\UserInfo.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"../css/UserInfo.css\";\nimport axios from \"axios\";\n// import getRankImg from './getRankImg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserInfo(props) {\n  _s();\n  const {\n    nickname,\n    ouid,\n    matchdetail\n  } = props;\n  const [userInfo, setUserInfo] = useState([]);\n  const [userRank, setUserRank] = useState(\"\");\n  const [rankImg, setRankImg] = useState('');\n  const [matches, setMatches] = useState([]);\n  const [cntVictory, setCntVictory] = useState(0);\n  const [isInitialDataLoaded, setIsInitialDataLoaded] = useState(false);\n  console.log(\"ouid :\", ouid);\n  useEffect(() => {\n    const getUserInfo = async () => {\n      try {\n        const userresponse = await axios.get(\"https://p0l0evybh6.execute-api.ap-northeast-2.amazonaws.com/dev/GetUserInfo\", {\n          params: {\n            ouid: ouid\n          }\n        });\n        setUserInfo(userresponse.data);\n        setUserRank(userresponse.data[1]);\n        console.log(\"userinfo:\", userresponse.data);\n        console.log(\"userInfo[1]:\", userInfo[1]);\n        const imgPath = userresponse.data[2];\n        setRankImg(imgPath);\n      } catch (error) {\n        console.log(\"UserInfoError:\", error);\n      }\n    };\n    getUserInfo();\n  }, [ouid]);\n  console.log('userRank: ', userRank);\n  console.log('rankImg: ', userInfo[2]);\n  useEffect(() => {\n    if (matchdetail) {\n      // 최초 10개의 데이터만 받아오는 경우 승리 횟수 계산\n      const initialMatches = Object.entries(matchdetail).slice(0, 10) // 최초 10개의 데이터만 사용\n      .map(([id, data]) => data);\n      const initialVictories = initialMatches.filter(match => match.my_status === \"승\").length;\n      setCntVictory(initialVictories);\n      setMatches(initialMatches);\n    }\n  }, [matchdetail]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"UserInfoBackground\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"GradeIcon\",\n      alt: \"icon\",\n      src: userInfo[2]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UserInfoContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UserNickname\",\n        children: nickname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UserLevel\",\n        children: [\"\\uB808\\uBCA8 : \", userInfo[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UserRateContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uCD5C\\uADFC 10\\uACBD\\uAE30 \\uC2B9\\uB960\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [cntVictory / 10, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"UserGradeContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"UserHighestGrade\",\n        children: [\"\\uCD5C\\uACE0\\uB4F1\\uAE09 : \", userInfo[1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(UserInfo, \"J9M9BhqgmNFWDOCQ4Q0+CjynE3w=\");\n_c = UserInfo;\nvar _c;\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","UserInfo","props","_s","nickname","ouid","matchdetail","userInfo","setUserInfo","userRank","setUserRank","rankImg","setRankImg","matches","setMatches","cntVictory","setCntVictory","isInitialDataLoaded","setIsInitialDataLoaded","console","log","getUserInfo","userresponse","get","params","data","imgPath","error","initialMatches","Object","entries","slice","map","id","initialVictories","filter","match","my_status","length","className","children","alt","src","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/프로젝트/FC.gg_Forked/FC.gg/fc_app/src/components/UserInfo.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../css/UserInfo.css\";\r\nimport axios from \"axios\";\r\n// import getRankImg from './getRankImg';\r\n\r\nexport default function UserInfo(props) {\r\n  const { nickname, ouid, matchdetail } = props;\r\n  const [userInfo, setUserInfo] = useState([]);\r\n  const [userRank, setUserRank] = useState(\"\");\r\n  const [rankImg, setRankImg] = useState('');\r\n  const [matches, setMatches] = useState([]);\r\n  const [cntVictory, setCntVictory] = useState(0);\r\n  const [isInitialDataLoaded, setIsInitialDataLoaded] = useState(false);\r\n\r\n  console.log(\"ouid :\", ouid);\r\n  useEffect(() => {\r\n    const getUserInfo = async () => {\r\n      try {\r\n        const userresponse = await axios.get(\r\n          \"https://p0l0evybh6.execute-api.ap-northeast-2.amazonaws.com/dev/GetUserInfo\",\r\n          {\r\n            params: {\r\n              ouid: ouid,\r\n            },\r\n          }\r\n        );\r\n        setUserInfo(userresponse.data);\r\n        setUserRank(userresponse.data[1]);\r\n        console.log(\"userinfo:\", userresponse.data);\r\n        console.log(\"userInfo[1]:\", userInfo[1]);\r\n        const imgPath = userresponse.data[2];\r\n        \r\n        setRankImg(imgPath);\r\n        \r\n      } catch (error) {\r\n        console.log(\"UserInfoError:\", error);\r\n      }\r\n    };\r\n    getUserInfo();\r\n  }, [ouid]);\r\n\r\n  console.log('userRank: ', userRank);\r\n  console.log('rankImg: ', userInfo[2]);\r\n\r\n  useEffect(() => {\r\n    if (matchdetail) {\r\n      // 최초 10개의 데이터만 받아오는 경우 승리 횟수 계산\r\n      const initialMatches = Object.entries(matchdetail)\r\n        .slice(0, 10) // 최초 10개의 데이터만 사용\r\n        .map(([id, data]) => data);\r\n      const initialVictories = initialMatches.filter(match => match.my_status === \"승\").length;\r\n      setCntVictory(initialVictories);\r\n      setMatches(initialMatches);\r\n    }\r\n  }, [matchdetail]);\r\n\r\n  return (\r\n    <div className=\"UserInfoBackground\">\r\n\r\n      {/* {rankImg ? (<img className=\"GradeIcon\" alt=\"icon\" src={userInfo[2]} />) : (<span>이미지 불러오는 중</span>)} */}\r\n      <img className=\"GradeIcon\" alt=\"icon\" src={userInfo[2]} />\r\n      <div className=\"UserInfoContainer\">\r\n        <div className=\"UserNickname\">{nickname}</div>\r\n        <div className=\"UserLevel\">레벨 : {userInfo[0]}</div>\r\n      </div>\r\n      <div className=\"UserRateContainer\">\r\n        <p>최근 10경기 승률</p>\r\n        <p>{cntVictory/10}%</p>\r\n      </div>\r\n      <div className=\"UserGradeContainer\">\r\n        <div className=\"UserHighestGrade\">최고등급 : {userInfo[1]}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}